--- pdflib-4.0.0.orig/configure.in	Wed Apr 18 17:51:38 2001
+++ pdflib-4.0.0/configure.in	Sat May 12 00:38:37 2001
@@ -588,7 +588,6 @@
     AC_CHECK_HEADER(tiff.h, , 
 	AC_MSG_ERROR([No usable tifflib include file found.]))
 
-    AC_MSG_RESULT([         Note: user-supplied tifflib - language bindings disabled])
     WITH_INTERNALTIFFLIB="no"
 ],[
     AC_C_BIGENDIAN()
@@ -619,7 +618,6 @@
     AC_CHECK_HEADER(zlib.h, , 
 	AC_MSG_ERROR([No usable zlib include file found.]))
 
-    AC_MSG_RESULT([         Note: user-supplied zlib - language bindings disabled])
     WITH_INTERNALZLIB="no"
 ],[
     ZLIBINC="-I../flate"
@@ -654,7 +652,6 @@
     AC_CHECK_HEADER(png.h, , 
 	AC_MSG_ERROR([No usable pnglib include file found.]))
 
-    AC_MSG_RESULT([         Note: user-supplied pnglib - language bindings disabled])
     WITH_INTERNALPNGLIB="no"
 ],[
     if test "$WITH_INTERNALZLIB" = "no"; then
@@ -721,17 +718,6 @@
     fi
 fi
 
-# If at least one library has been substituted we disable most
-# language bindings.
-
-if test "$EXTERNALLIBS" != "$MATHLIB"; then
-    WITH_JAVA=no
-    WITH_PERL=no
-    WITH_PYTHON=no
-    WITH_TCL=no
-    WITH_PHP=no
-fi
-
 # --------------------------------------------------------------------
 # 	PDFlib C++ language binding
 # --------------------------------------------------------------------
@@ -881,8 +867,8 @@
 
 fi
 
-PDFLIBCONVENIENT="\$(top_builddir)/pdflib/libpdf_.la $INTERNALLIBS"
-PDFLIBLINKSELF="$RPATH $PDFLIBCONVENIENT"
+PDFLIBCONVENIENT="\$(top_builddir)/pdflib/libpdf.la $INTERNALLIBS"
+PDFLIBLINKSELF="$RPATH \$(top_builddir)/pdflib/libpdf_.la -ltiff -lpng -lz"
 PDFLIBLINK="\$(top_builddir)/pdflib/libpdf.la $EXTERNALLIBS"
 
 AC_SUBST(EXTERNALLIBS)
